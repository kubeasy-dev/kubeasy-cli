validations:
  - key: replica-count
    title: "Correct Replica Count"
    description: "Deployment should have expected replicas"
    order: 1
    type: metrics
    spec:
      target:
        kind: Deployment
        name: test-deployment
      checks:
        - field: status.readyReplicas
          operator: ">="
          value: 2
        - field: status.replicas
          operator: "=="
          value: 3

  - key: restart-count
    title: "Low Restart Count"
    description: "Pod should not have excessive restarts"
    order: 2
    type: metrics
    spec:
      target:
        kind: Pod
        labelSelector:
          app: test-app
      checks:
        - field: status.containerStatuses.0.restartCount
          operator: "<"
          value: 3
