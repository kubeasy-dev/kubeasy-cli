# Status validation fixture
# Tests the field-based status validation type for numeric and string checks
validations:
  - key: deployment-replicas
    title: "Deployment Replicas"
    description: "Deployment must have correct replica count"
    order: 1
    type: status
    spec:
      target:
        kind: Deployment
        name: test-deployment
      checks:
        - field: readyReplicas
          operator: ">="
          value: 3
        - field: availableReplicas
          operator: "=="
          value: 3

  - key: pod-phase
    title: "Pod Running"
    description: "Pod must be in Running phase"
    order: 2
    type: status
    spec:
      target:
        kind: Pod
        labelSelector:
          app: test-app
      checks:
        - field: phase
          operator: "=="
          value: "Running"

  - key: statefulset-ready
    title: "StatefulSet Ready"
    description: "StatefulSet must have all replicas ready"
    order: 3
    type: status
    spec:
      target:
        kind: StatefulSet
        name: test-statefulset
      checks:
        - field: readyReplicas
          operator: "=="
          value: 3
        - field: currentReplicas
          operator: "=="
          value: 3
